<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Visualization</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
</head>
<body>
<div id="columnchart" style="width: 700px; height: 400px"></div>
<script th:inline="javascript">
        google.charts.load('current', {packages : ['corechart']});
        google.charts.setOnLoadCallback(drawColumnChart);

        function drawColumnChart() {
            var real_data = [[${locationData}]];
            console.log(real_data);

            var data = new google.visualization.DataTable();
            data.addColumn('string', 'location');
            data.addColumn('number', '접종완료자 비율');
            Object.keys(real_data).forEach(function(key) {
                data.addRow([ key, real_data[key] ]);
            });
            var options = {
                title : '지역별 접종 완료자',
                hAxis : {
                    title : '지역',
                },
                vAxis : {
                    title : '접종 완료자 비율'
                }
            };
            var chart = new google.visualization.ColumnChart(document.getElementById('columnchart'));
            chart.draw(data, options);
        }
    </script>
<p style="color:red; font-size: 12px">※ (지역별 접종 완료자 수 / 지역별 인구 수) * 1,000,000 으로 나타내었습니다.</p>
</body>
</html>